{"version":3,"sources":["webpack:///./src/app/js/account.js","webpack:///./src/app/index.js"],"names":["showMessage","message","Toastify","text","duration","gravity","position","escapeMarkup","style","background","color","boxShadow","showToast","closeModals","document","body","classList","remove","addEventListener","querySelector","querySelectorAll","forEach","button","e","isUnsave","target","contains","data","action","post_ID","dataset","postId","post_type","postType","postTypeTitles","successMessage","axios","get","home_base","ajax_url","params","then","res","toggle","error","console","log","image_thumb_url","imageThumbUrl","getElementById","value","backgroundImage","add","link","preventDefault","Flickity","cellAlign","contain","pageDots","hash","selectedAttraction","friction","wrapAround","arrowShape","resize","nodeName","closest","id","href","attributes","history","pushState","col","collectionName","collection","notes","post_id","galleryId","gallery","collectionHash","image","original_collection","loadDestinationCollections","radio","parseInt","photo","existing_collection_id","new_collection_name","length","emailbody","window","location","trigger","eventType","tagName","processRequest","name","loadCollections","a","targetId","confirmation","edit_collection_name","edit_action","original_collection_id","destination_collection_id","new_destination_collection_name","innerHTML","exclude","postTemplate","slider","tns","container","items","slideBy","autoplay","nav","gutter","controls","autoplayButtonOutput","navPosition","autoPlay","speed","loop","responsive","782","img","complete","split","scrollIntoView","behavior","config"],"mappings":"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","file":"app/main-037082aa.js","sourcesContent":["import axios, {isCancel, AxiosError} from 'axios';\nimport Toastify from 'toastify-js'\nimport Flickity from 'flickity';\n\nlet collection = null;\n\nconst showMessage = ( message ) => {\n\tToastify({\n\t\ttext: message,\n\t\tduration: 3000,\n\t\tgravity: \"bottom\", // `top` or `bottom`\n\t\tposition: \"center\", // `left`, `center` or `right`\n\t\tescapeMarkup: false,\n\t\tstyle: {\n\t\t\tbackground: \"#fff\",\n\t\t\tcolor: \"#000\",\n\t\t\tboxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.5)\",\n\t\t},\n\t}).showToast();\n}\n\n// close modals\nconst closeModals = () => {\n\tdocument.body.classList.remove( \n\t\t\"collection_action\", \"collection_action_new\", \"collection_action_image\", \"collection_action_edit\", \n\t\t\"collection_action_delete\", \"collection_action_loading\", \"collection_action_edit_image\", \n\t\t\"collection_action_complete\", \"account_saved\", \"collection_action_notes\", \n\t\t\"collection_action_manage_image\", \"collection_action_remove_image\", \"collection_help\");\n} \n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tif( document.querySelector( '.display-save' ) ) {\n\t\tdocument.querySelectorAll( '.display-save .heart, .display-save .display-brochure' ).forEach( button => {\n\t\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\t\tconst isUnsave = e.target.classList.contains( 'unsave' );\n\t\t\t\tconst data = {\n\t\t\t\t\taction: isUnsave ? 'homebase_unsave' : 'homebase_save',\n\t\t\t\t\tpost_ID: e.target.dataset.postId,\n\t\t\t\t\tpost_type: e.target.dataset.postType\n\t\t\t\t};\n\t\t\t\tconst postTypeTitles = {\n\t\t\t\t\t'post': 'Blog Post',\n\t\t\t\t\t'display': 'Display'\n\t\t\t\t};\n\t\t\n\t\t\t\tlet successMessage = \"\";\n\t\t\t\tif( e.target.classList.contains( 'heart' ) ) {\n\t\t\t\t\tif( isUnsave ) {\n\t\t\t\t\t\tsuccessMessage = \"<h4>\" + postTypeTitles[data.post_type] + \" Removed</h4><p>This \" + postTypeTitles[data.post_type] + \" has been removed from My Account</p>\"\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsuccessMessage = \"<h4>\" + postTypeTitles[data.post_type] + \" Saved</h4><p>This \" + postTypeTitles[data.post_type] + \" has been saved to My Account</p>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif( isUnsave ) {\n\t\t\t\t\t\tsuccessMessage = \"<p>This brochure has been removed from My Account<p>\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsuccessMessage = \"<h4>Brochure Saved</h4><p>This brochure is now available to view in My Account</p>\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t\t.then( res => {\n\t\t\t\t\te.target.classList.toggle( 'unsave' );\n\t\t\t\t\t// Show message\n\t\t\t\t\tshowMessage( successMessage );\n\t\t\t\t})\n\t\t\t\t.catch( error => {\n\t\t\t\t\tconsole.log( error );\n\t\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t\t} );\n\t\t\t} );\n\t\t} );\t\n\t}\n\n\tdocument.querySelectorAll( '.display-image-gallery .heart' ).forEach( button => {\n\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\tconst post_ID = e.target.dataset.postId;\n\t\t\tconst image_thumb_url = e.target.dataset.imageThumbUrl;\n\t\t\t\n\t\t\tdocument.getElementById( \"save_image_id\" ).value = post_ID;\n\t\t\tdocument.querySelector( \"#new_image_form .collection_image_preview\" ).style.backgroundImage = 'url(' + image_thumb_url + ')';\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_image\" );\n\t\t} );\n\t} );\n\n\tdocument.querySelectorAll( \".display_photo\" ).forEach( link => {\n\t\tlink.addEventListener( \"click\", ( e ) => {\n\t\t\te.preventDefault();\n\t\t\tdocument.body.classList.add( \"showing_gallery\" );\n\t\t\t// $('body').addClass('showing_gallery');\n\t\t\tdocument.querySelector( \".full_gallery\" ).classList.add( \"active\" );\n\t\t\t// $('.full_gallery').addClass('active');\n\t\t\tdocument.querySelector( \".full_gallery_slides\" ).classList.add( \"active\" );\n\t\t\t// $('').flickity('resize');\n\t\t\tconst collection = new Flickity( '.full_gallery_slides', {\n\t\t\t\tcellAlign: 'left',\n\t\t\t\tcontain: true,\n\t\t\t\tpageDots: false,\n\t\t\t\thash: true,\n\t\t\t\tselectedAttraction: 0.01, \n\t\t\t\tfriction: 0.15, \n\t\t\t\twrapAround: true, \n\t\t\t\tarrowShape: { \"x0\": 10, \"x1\": 60, \"y1\": 50, \"x2\": 63, \"y2\": 47, \"x3\": 17 }\n\t\t\t} );\n\n\t\t\tcollection.resize();\n\t\t});\n\t} );\n\n\t// collections\n\tdocument.querySelector( \"#collections, #displays\" )?.addEventListener( \"click\", ( e ) => {\n\t\te.preventDefault();\n\t\t\n\t\tlet target = e.target;\n\t\t// Images may hijack click event\n\t\tif( target.nodeName === 'IMG' ) {\n\t\t\ttarget = target.closest( 'a' );\n\t\t}\n\n\t\t// add first collection\t\t\n\t\t// add collection\n\t\tif( target.id === \"add_new_collection\" || target.id === \"add_first_collection\" ) {\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_new\" );\n\t\t}\n\n\t\t// show collection\n\t\tif( target.classList.contains( 'collection_link' ) ) {\n\t\t\tconst href = target.href;\n\t\t\tconst id = target.attributes.href.value;\n\t\t\thistory.pushState( {}, '', href );\n\n\t\t\tdocument.querySelector( '#collection_names' ).classList.add( 'hidden' );\n\t\t\tdocument.querySelectorAll( '.collection' ).forEach( col => col.classList.remove( 'active' ) );\n\t\t\tdocument.querySelector( id )?.classList.add( 'active' );\n\t\t}\n\t\t\n\t\t// close collection \n\t\tif( target.classList.contains( 'close_collection' ) ) {\n\t\t\tdocument.querySelector( \"#collection_names\" ).classList.remove( 'hidden' );\n\t\t\tdocument.querySelectorAll( '.collection' ).forEach( col => col.classList.remove( 'active' ) );\n\n\t\t\thistory.pushState( {}, '', '#collections' );\n\t\t}\n\n\t\t// edit collection\n\t\tif( target.classList.contains( 'edit_collection' ) ) {\n\t\t\tdocument.querySelector('#edit_collection_name').value = target.dataset.collectionName;\n\t\t\tdocument.querySelector('#edit_collection_id').value = target.dataset.collection;\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_edit\" );\n\t\t}\n\t\t\n\t\t// delete collection\n\t\tif( target.classList.contains( 'delete_collection' ) ) {\n\t\t\tdocument.querySelector( \"#delete_collection_id\" ).value = target.dataset.collection;;\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_delete\" );\n\t\t}\n\n\t\t// show notes\n\t\tif( target.classList.contains( 'edit_notes' ) ) {\n\t\t\tconst data = {\n\t\t\t\taction: 'homebase_fetch_notes',\n\t\t\t\tpost_ID: target.dataset.postId\n\t\t\t};\n\n\t\t\tdocument.body.classList.add( 'collection_action_loading' );\n\n\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t.then( res => {\n\t\t\t\tconsole.log( res.data.data );\n\t\t\t\tdocument.querySelector( '#saved_notes' ).value = res.data.data.notes;\n\t\t\t\tdocument.querySelector( '#saved_notes_id' ).value = res.data.data.post_id;\n\t\t\t\t\n\t\t\t\tdocument.body.classList.remove( 'collection_action_loading' );\n\t\t\t\tdocument.body.classList.add( 'collection_action', 'collection_action_notes' );\n\t\t\t})\n\t\t\t.catch( error => {\n\t\t\t\tconsole.log( error );\n\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t} );\n\t\t}\n\n\t\t// open gallery \n\t\tif( target.classList.contains( 'collection-image-link' ) ) {\n\t\t\tconsole.log( 'collection-image-link' );\n\t\t\tvar galleryId = target.dataset.gallery;\n\t\t\tdocument.body.classList.add( 'showing_gallery' );\n\t\t\tdocument.querySelector( \"#gallery_\" + galleryId ).classList.add( 'active' );\n\t\t\tcollection.resize();\n\t\t}\n\n\t\t// close gallery\n\t\tif( target.classList.contains( 'close_full_gallery' ) ) {\n\t\t\tdocument.body.classList.remove( 'showing_gallery' );\n\t\t\ttarget.closest( '.full_gallery' ).classList.remove( 'active' );\n\t\t\tconst collectionHash = target.closest( '.full_gallery' ).dataset.collection;\n\t\t\thistory.pushState( {}, \"\", '#collection_' + collectionHash);\n\t\t}\n\n\t\t// edit image\n\t\tif( target.classList.contains( 'edit_image' ) ) {\n\t\t\tconst image = target.dataset.image;\n\t\t\tconst image_thumb_url = target.dataset.imageThumbUrl;\t\t\t\n\t\t\tconst original_collection = target.dataset.collection;\n\t\t\tdocument.querySelector('#edit_image_id').value = image;\n\t\t\tdocument.querySelector('#original_collection_id').value = original_collection;\n\t\t\tdocument.querySelector('#edit_image_form .collection_image_preview').style.backgroundImage = 'url(' + image_thumb_url + ')';\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_edit_image\" );\n\t\t\t\n\t\t\tloadDestinationCollections( original_collection );\n\t\t}\n\t} );\n\n\t\n\n\tdocument.querySelector( \".account_modal_close\" )?.addEventListener( \"click\", ( e ) => {\n\t\tcloseModals();\n\t});\n\n\t// save image modal - toggle new collection name\n\tdocument.querySelectorAll( \"input[name='existing_collection_id']\" ).forEach( radio => {\n\t\tradio.addEventListener( \"change\", ( e ) => { \n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).value = \"\";\n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).classList.toggle( \"active\", parseInt( e.target.value ) === 0 );\n\t\t} );\n\t} );\n\n\t// save image modal - submit \"previously #photo_save_submit click\"\n\tdocument.querySelector( \"#new_image_form\" )?.addEventListener( \"submit\", ( e ) => {\n\t\te.preventDefault();\n\t\t\n\t\tif( document.querySelector( \"#save_image_id\" ) ) {\n\t\t\tconst photo = document.querySelector( \"#save_image_id\" ).value;\n\t\t\tconst data = {\n\t\t\t\taction: 'homebase_save_image',\n\t\t\t\tpost_ID: photo,\n\t\t\t\texisting_collection_id: document.querySelector( \"input[name=existing_collection_id]:checked\" ).value,\n\t\t\t\tnew_collection_name: document.querySelector( \"#new_image_collection_name\" ).value\n\t\t\t};\n\n\t\t\tif( !data.existing_collection_id || ( data.existing_collection_id === 0 && data.new_collection_name.length === 0 ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.classList.add( \"collection_action_loading\" );\n\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t.then( res => {\n\t\t\t\tdocument.body.classList.remove( \"collection_action_loading\" );\n\t\t\t\t// console.log( document.querySelector( \"#photo_\" + photo + \" .myaccount\" ) );\n\t\t\t\t// console.log( \"#photo_\" + photo + \" .myaccount\" );\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\t\n\t\t\t\tcloseModals(); \n\t\t\t\t// Show message\n\t\t\t\tshowMessage( \"<h5>Image Saved</h5><p>This image has been saved to My Account</p><p><a class='saved_view_account' href='/my-account'>View My Account</a></p>\" );\n\t\t\t})\n\t\t\t.catch( error => {\n\t\t\t\tconsole.log( error );\n\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t} );\n\t\t}\t\t\n\t} );\n\n\t// email notes\n\tdocument.querySelector( '#edit_notes_email_button' )?.addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\t\tconst emailbody = document.querySelector( '#saved_notes' ).value;\n\t\twindow.location = 'mailto:?subject=Note from Home Base My Account&body=' + emailbody;\n\t} );\n\n\t// add new collection\n\t// delete existing collection\n\t// edit collection name\n\t// edit notes\n\t// edit image\n\t// delete image\n\tdocument.querySelectorAll( \"#new_collection_form, #delete_collection_form, #edit_collection_form, #edit_notes_form, #edit_image_form, #delete_image_submit\" ).forEach( trigger => {\n\t\tconst eventType = trigger.tagName === \"FORM\" ? \"submit\" : \"click\";\n\t\ttrigger.addEventListener( eventType, ( e ) => {\n\t\t\te.preventDefault();\n\t\t\tprocessRequest( e.target.id );\n\t\t} );\n\t} );\n\n\t// edit collections\n\tdocument.querySelector( \"#edit_image_collections\" )?.addEventListener( \"change\", ( e ) => {\n\t\t// save image item - toggle new collection name\n\t\tif( e.target.name === \"destination_collection_id\" ) {\n\t\t\tdocument.querySelector( \"#new_destination_collection_name\" ).value = \"\";\n\t\t\tdocument.querySelector( \"#new_destination_collection_name\" ).classList.toggle( \"active\", parseInt( e.target.value ) === 0 );\n\t\t}\n\t} );\n\n\t// load collections\n\tif( document.querySelector( \"#collections\" ) ) {\n\t\tloadCollections();\n\t}\n\n\t// Bookmark Post\n\tdocument.querySelectorAll( \".display-save button.bookmark\" ).forEach( button => {\n\t\tbutton.addEventListener( \"click\", ( e ) => {\n\t\t\t// const title = e.target.dataset.postTitle;\n\t\t\t// const url = e.target.dataset.postUrl;\n\t\t\t// let createBookmark = browser.bookmarks.create({\n\t\t\t// \ttitle: title,\n\t\t\t// \turl: url,\n\t\t\t// });\n\t\t\t\n\t\t\t// createBookmark.then(onCreated);\n\t\t} );\n\n\t\t// const onCreated = (node) => {\n\t\t// \tshowMessage( \"<h5>Page bookmarked</h5>\" );\n\t\t// }\n\t} );\n\t\n\t// Show Help\n\t// \n\tdocument.querySelectorAll( \".show-help-modal\" ).forEach( a => {\n\t\ta.addEventListener( \"click\", e => {\n\t\t\te.preventDefault();\n\t\t\tdocument.body.classList.add( \"collection_help\", \"collection_action\" );\n\t\t} );\n\t} );\n} );\n\nconst processRequest = ( targetId ) => {\n\tlet data = {};\n\tlet confirmation = \"\";\n\n\tswitch( targetId ) {\n\t\tcase \"new_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_add_collection',\n\t\t\t\tnew_collection_name: document.querySelector( \"#new_collection_name\" ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>New Collection Saved</h4><p>This Collection has been saved to My Account</p>\";\n\t\t\tbreak;\n\t\tcase \"delete_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_delete_collection',\n\t\t\t\tcollection: document.querySelector( '#delete_collection_id' ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Collection Deleted</h4><p>This Collection has been removed from your account</p>\"\n\t\t\tbreak;\n\t\tcase \"edit_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_edit_collection',\n\t\t\t\tcollection: document.querySelector( '#edit_collection_id' ).value,\n\t\t\t\tedit_collection_name: document.querySelector( '#edit_collection_name' ).value\n\t\t\t}\n\t\t\tconfirmation = \"<h4>Collection Updated</h4><p>This Collection name has been updated</p>\"\n\t\t\tbreak;\n\t\tcase \"edit_notes_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_save_notes',\n\t\t\t\tpost_ID: document.querySelector( '#saved_notes_id' ).value,\n\t\t\t\tnotes: document.querySelector( '#saved_notes' ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Notes Saved</h4>\";\n\t\t\tbreak;\n\t\tcase \"edit_image_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_edit_image',\n\t\t\t\timage: document.querySelector( '#edit_image_id' ).value,\n\t\t\t\tedit_action: document.querySelector( 'select.edit_image_actions').value,\n\t\t\t\toriginal_collection_id: document.querySelector( '#original_collection_id').value,\n\t\t\t\tdestination_collection_id: document.querySelector( 'input[name=destination_collection_id]:checked').value,\n\t\t\t\tnew_destination_collection_name: document.querySelector( '#new_destination_collection_name').value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Image Updated</h4><p>Image has been moved/copied</p>\";\n\t\t\tbreak;\n\t\tcase \"delete_image_submit\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_delete_image',\n\t\t\t\timage: document.querySelector( \"#edit_image_id\" ).value,\n\t\t\t\toriginal_collection_id: document.querySelector( \"#original_collection_id\" ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Image Removed</h4><p>Image successfully removed from this collection</p>\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn;\n\t}\n\n\tif( new_collection_name ) {\n\t\tdocument.body.classList.add( \"collection_action_loading\" );\n\t\n\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t.then( res => {\n\t\t\tcloseModals(); \n\t\t\t// reload collections\n\t\t\tloadCollections();\n\t\t\t// Show message\n\t\t\tshowMessage( confirmation );\n\t\t})\n\t\t.catch( error => {\n\t\t\tconsole.log( error );\n\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t} );\n\t}\n}\n\n// TRACK BROCHURE DOWNLOAD\n// \t\t$('main').on(\"click\", \".brochure_download\", function() {\n// \t\t\t$this = $(this);\n// \t\t\tevent.preventDefault();\n// \t\t\tvar brochureURL = $this.attr('href');\n// \t\t\tvar data = {\n// \t\t\t\taction: 'homebase_track_brochure_download',\n// \t\t\t\tdisplay: $this.data('display')\n//     \t\t};\n//     \t\t$.ajax({\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json'\n// \t\t\t});\n// \t\t\twindow.open(brochureURL, '_blank');\n// \t\t});\n\t\t\n// \t\t$(\".full_gallery\").on(\"click\", \".saveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\tvar post_ID = $(this).data('post-id');\n// \t\t\tvar image_thumb_url = $(this).data('image-thumb-url');\n// \t\t\t$('#save_image_id').val(post_ID);\n// \t\t\t$('#new_image_form .collection_image_preview').css('background-image', 'url(' + image_thumb_url + ')');\n// \t\t\t$('body').addClass('collection_action collection_action_image');\n// \t\t});\n// \t\t$(\".display_photos\").on(\"click\", \".unsaveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n// \t\t});\n// \t\t$(\".full_gallery\").on(\"click\", \".unsaveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n// \t\t});\n\t\t\n// COLLECTION MODAL ACTIONS\n\n// HELP\n// \t\t$(\"#my_account_help_btn\").click(function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_help');\n// \t\t\tlocalStorage.setItem('showhelptips', 1);\n// \t\t\t$('body').removeClass('show_account_help_tips');\n// \t\t});\n\t\t\n\t\t\n// \t\t// Email exhibitor\n// \t\t$(\".email_now, .call_now\").fancybox({\n// \t\t\topenEffect\t: 'fade',\n// \t\t\tcloseEffect\t: 'none',\n// \t\t\tpadding: 0,\n// \t\t\tautoSize: false,\n// \t\t\twidth: 600,\n// \t\t\tautoHeight: true\n// \t\t});\n\n// \t},\n\nconst loadCollections = ( collection ) => {\n\tdocument.querySelector( '#collections' ).classList.add( 'loading' );\n\n\taxios.get( home_base.ajax_url, { \n\t\tparams: {\n\t\t\taction: 'homebase_load_collections',\n\t\t\tcollection: collection\n\t\t} \n\t} )\n\t.then( res => {\n\t\tdocument.querySelector( '#collections' ).classList.remove( 'loading' );\n\t\tdocument.querySelector( '#collections > .wp-block-group' ).innerHTML = res.data;\t\n\t\t\n\t\tcollection = new Flickity( '.full_gallery_slides', {\n\t\t\tcellAlign: 'left',\n\t\t\tcontain: true,\n\t\t\tpageDots: false,\n\t\t\thash: true,\n\t\t\tselectedAttraction: 0.01, \n\t\t\tfriction: 0.15, \n\t\t\twrapAround: true, \n\t\t\tarrowShape: { \"x0\": 10, \"x1\": 60, \"y1\": 50, \"x2\": 63, \"y2\": 47, \"x3\": 17 }\n\t\t} );\n\t} )\n\t.catch( error => {\n\t\tshowMessage( \"Something has gone wrong\" );\n\t} );\t\t\n};\n\nconst loadDestinationCollections = ( original_collection ) => {\n\tdocument.querySelector( '#collections' ).classList.add( 'loading' );\n\n\taxios.get( home_base.ajax_url, { \n\t\tparams: {\n\t\t\taction: 'homebase_load_destination_collections',\n\t\t\texclude: original_collection\n\t\t}\n\t} )\n\t.then( res => {\n\t\tdocument.querySelector( '#collections' ).classList.remove( 'loading' );\n\t\tdocument.querySelector( '#edit_image_collections' ).innerHTML = res.data;\t\n\t} )\n\t.catch( error => {\n\t\tshowMessage( \"Something has gone wrong\" );\n\t} );\n}\n\n// Function to handle page load, tab, and popstate events\n// function shift(hash) {\n// if (hash) {\n// // need to handle gallery images here too\n// if (hash.indexOf(\"collection_\") !== -1 && hash.indexOf(\"photo_\") !== -1) {\n// hash = '#collections';\n// history.pushState(null, null, hash);\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(0);\n// } else if (hash.indexOf(\"collection_\") !== -1 && hash.indexOf(\"photo_\") === -1) {\n// var tabsNavItems = document.querySelectorAll('.my_account_tabs_nav li');\n// var accountTabs = document.querySelectorAll('.my_account_tab');\n\n// tabsNavItems.forEach(function(item) {\n// item.classList.remove('active');\n// });\n// accountTabs.forEach(function(tab) {\n// tab.classList.remove('active');\n// });\n\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(hash);\n// } else {\n// document.querySelector(\"#collection_names\").classList.remove('hidden');\n// var collections = document.querySelectorAll('.collection');\n\n// collections.forEach(function(collection) {\n// collection.classList.remove('active');\n// });\n\n// tabsNavItems = document.querySelectorAll('.my_account_tabs_nav li');\n// accountTabs = document.querySelectorAll('.my_account_tab');\n\n// tabsNavItems.forEach(function(item) {\n// item.classList.remove('active');\n// });\n// accountTabs.forEach(function(tab) {\n// tab.classList.remove('active');\n// });\n\n// var activeTab = document.querySelector('.my_account_tabs_nav a[href=\"' + hash + '\"]');\n// if (activeTab) {\n// activeTab.parentElement.classList.add('active');\n// }\n// var activeSection = document.querySelector(hash);\n// if (activeSection) {\n// activeSection.classList.add('active');\n// }\n// myHomeBase.loadCollections(0);\n// }\n// } else {\n// hash = '#collections';\n// history.pushState(null, null, hash);\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(0);\n// }\n\t// }\n\n// document.addEventListener('DOMContentLoaded', function() {\n// \tvar showhelptips = localStorage.getItem('showhelptips');\n// \tif (showhelptips === null) {\n// \t\t\tdocument.body.classList.add('show_account_help_tips');\n// \t}\n// \tmyHomeBase.init();\n// });","import \"./style.scss\";\nimport \"./js/account\";\n\nimport \"toastify-js/src/toastify.css\"\nimport \"tiny-slider/src/tiny-slider.scss\"\n\n// Slider - Library import example\nimport { tns } from \"tiny-slider\";\n\nconsole.log( 'here' );\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tdocument.querySelectorAll( '.wp-block-home-base-post-grid-list button' ).forEach( button => {\n\t\tbutton.addEventListener( \"click\", ( e ) => {\n\t\t\tconst button = e.target.closest( \"button\" );\n\t\t\tif( !button.classList.contains(\"is-active\") ) {\n\t\t\t\tconst postTemplate = document.querySelector( \".wp-block-query .wp-block-post-template, .wp-block-display-categories-grid .wp-block-post-template\" );\n\t\t\t\t\n\t\t\t\tbutton.closest( \".wp-block-home-base-post-grid-list\" )?.querySelector( \".is-active\" )?.classList.remove( \"is-active\" );\n\t\t\t\tbutton.classList.add( \"is-active\" );\n\t\t\t\tif( postTemplate ) {\n\t\t\t\t\tif( button.classList.contains( \"grid\" ) ) {\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// Display Categories Slider\n\tdocument.querySelectorAll( '.wp-block-display-categories-slider .wp-block-post-template, .wp-block-query.is-style-slider .wp-block-post-template' ).forEach( slider => {\n\t\ttns( {\n\t\t\tcontainer: slider,\n\t\t\titems: 1,\n\t\t\tslideBy: 'page',\n\t\t\tautoplay: true,\n\t\t\tnav: true,\n\t\t\tgutter: 10,\n\t\t\tcontrols: false,\n\t\t\tautoplayButtonOutput: false,\n\t\t\tnavPosition: \"bottom\",\n\t\t\tautoPlay: false,\n\t\t\tspeed: 600,\n\t\t\tloop: true,\n\t\t\tresponsive: {\n\t\t\t\t782: {\n\t\t\t\t\tgutter: 32,\n\t\t\t\t}\n\t\t\t}\n\t\t\t// startIndex: 2\n\t\t} );\n\t} );\n\n\n\t// Lazy load fade in\n\tdocument.querySelectorAll( 'img[loading=\"lazy\"]' ).forEach( ( img ) => {\n\t\tif( img.complete === true ) {\n\t\t\timg.classList.add( 'has-loaded' );\n\t\t}\n\t\timg.addEventListener( \"load\", ( e ) => {\n\t\t\te.target.classList.add( 'has-loaded' );\n\t\t} );\n\t} );\n\n\t// Show Search\n\tdocument.querySelector( \".wp-block-button.header-search-trigger\" )?.addEventListener( \"click\", ( e ) => {\n\t\te.preventDefault();\n\t\tdocument.body.classList.toggle( \"show-home-base-search\" );\n\t} );\n\n\t// Smooth scroll \n\tdocument.querySelectorAll( '.wp-site-blocks a[href*=\"#\"]' ).forEach( a => {\n\t\ta.addEventListener( \"click\", ( e ) => {\n\t\t\tconst href = e.target.closest( 'a' ).href?.split( \"#\" );\n\t\t\tif( href.length === 2 && document.querySelector( `#${href[1]}` ) ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tdocument.querySelector( `#${href[1]}` ).scrollIntoView( { behavior: \"smooth\" } );\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// My account dropdown\n\tdocument.querySelectorAll( \".wp-block-my-profile .config > a\" ).forEach( a => {\n\t\ta.addEventListener( \"click\", e => {\n\t\t\te.preventDefault();\n\t\t\tconsole.log( e.target.closest( \"a\" ).href );\n\t\t\tconst config = e.target.closest( \".config\" );\n\t\t\tif( config ) {\n\t\t\t\tconfig.querySelector( \".dropdown\" )?.classList.toggle( \"visible\" );\n\t\t\t}\n\t\t} );\n\t} );\n} );\n\n// .is-layout-flow\n// .wp-block-post-template-is-layout-flow\n\n// .is-layout-grid\n// .wp-block-post-template-is-layout-grid\n"],"sourceRoot":""}