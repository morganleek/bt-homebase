{"version":3,"sources":["webpack:///./src/app/js/account.js","webpack:///./src/app/index.js"],"names":["showMessage","message","Toastify","text","duration","gravity","position","escapeMarkup","style","background","color","boxShadow","showToast","document","addEventListener","querySelector","querySelectorAll","forEach","button","e","data","action","post_ID","target","dataset","postId","post_type","postType","successMessage","classList","contains","axios","get","home_base","ajax_url","params","then","res","add","error","console","log","image_thumb_url","imageThumbUrl","getElementById","value","backgroundImage","body","closeModals","remove","radio","toggle","parseInt","preventDefault","photo","existing_collection_id","new_collection_name","length","img","complete","closest","postTemplate"],"mappings":"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","file":"app/main-91025894.js","sourcesContent":["import axios, {isCancel, AxiosError} from 'axios';\nimport Toastify from 'toastify-js'\n\nconst showMessage = ( message ) => {\n\tToastify({\n\t\ttext: message,\n\t\tduration: 3000,\n\t\tgravity: \"bottom\", // `top` or `bottom`\n\t\tposition: \"center\", // `left`, `center` or `right`\n\t\tescapeMarkup: false,\n\t\tstyle: {\n\t\t\tbackground: \"#fff\",\n\t\t\tcolor: \"#000\",\n\t\t\tboxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.5)\",\n\t\t},\n\t}).showToast();\n}\n// \n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tif( document.querySelector( '.display-social-links' ) ) {\n\t\tdocument.querySelectorAll( '.display-social-links .heart, .display-social-links .display-brochure' ).forEach( button => {\n\t\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\t\tconst data = {\n\t\t\t\t\taction: 'homebase_save',\n\t\t\t\t\tpost_ID: e.target.dataset.postId,\n\t\t\t\t\tpost_type: e.target.dataset.postType\n\t\t\t\t};\n\t\t\n\t\t\t\tlet successMessage = \"\";\n\t\t\t\tif( e.target.classList.contains( 'heart' ) ) {\n\t\t\t\t\tsuccessMessage = data.post_type + \" Saved\\nThis \" + data.post_type + \" has been saved to `My Account`\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsuccessMessage = \"Brochure Saved\\nThis brochure is now available to view in `My Account`\"\n\t\t\t\t}\n\t\t\n\t\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t\t.then( res => {\n\t\t\t\t\te.target.classList.add( 'unsave' );\n\t\t\t\t\t// Show message\n\t\t\t\t\tshowMessage( successMessage );\n\t\t\t\t})\n\t\t\t\t.catch( error => {\n\t\t\t\t\tconsole.log( error );\n\t\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t\t} );\n\t\t\t} );\n\t\t} );\t\n\t}\n\n\tdocument.querySelectorAll( '.display-image-gallery .heart' ).forEach( button => {\n\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\tconst post_ID = e.target.dataset.postId;\n\t\t\tconst image_thumb_url = e.target.dataset.imageThumbUrl;\n\t\t\t\n\t\t\tdocument.getElementById( \"save_image_id\" ).value = post_ID;\n\t\t\tdocument.querySelector( \"#new_image_form .collection_image_preview\" ).style.backgroundImage = 'url(' + image_thumb_url + ')';\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_image\" );\n\t\t} );\n\t} );\n\n\t// document.querySelector( \"#add_new_collection\" )?.addEventListener( \"click\", () => {\n\t// \tdocument.body.classList.add( \"collection_action\", \"collection_action_new\" );\n\t// } );\n\n\t// close modals\n\tconst closeModals = () => {\n\t\tdocument.body.classList.remove( \"collection_action\", \"collection_action_new\", \"collection_action_image\", \"collection_action_edit\", \"collection_action_delete\", \"collection_action_loading\", \"collection_action_edit_image\", \"collection_action_complete\", \"account_saved\", \"collection_action_notes\", \"collection_action_manage_image\", \"collection_action_remove_image\", \"collection_help\") ;\n\t}\n\n\tdocument.querySelector( \".account_modal_close\" )?.addEventListener( \"click\", ( e ) => {\n\t\tcloseModals();\n\t});\n\n\t// save image modal - toggle new collection name\n\tdocument.querySelectorAll( \"input[name='existing_collection_id']\" ).forEach( radio => {\n\t\tradio.addEventListener( \"change\", ( e ) => { \n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).value = \"\";\n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).classList.toggle( \"active\", parseInt( e.target.value ) === 0 );\n\t\t} );\n\t} );\n\n\t// save image modal - submit \"previously #photo_save_submit click\"\n\tdocument.querySelector( \"#new_image_form\" )?.addEventListener( \"submit\", ( e ) => {\n\t\te.preventDefault();\n\t\t\n\t\tif( document.querySelector( \"#save_image_id\" ) ) {\n\t\t\tconst photo = document.querySelector( \"#save_image_id\" ).value;\n\t\t\tconst data = {\n\t\t\t\taction: 'homebase_save_image',\n\t\t\t\tpost_ID: photo,\n\t\t\t\texisting_collection_id: document.querySelector( \"input[name=existing_collection_id]:checked\" ).value,\n\t\t\t\tnew_collection_name: document.querySelector( \"#new_image_collection_name\" ).value\n\t\t\t};\n\n\t\t\tconst successMessage = \"<h5>Image Saved</h5><p>This image has been saved to My Account</p><p><a class='saved_view_account' href='/my-account'>View My Account</a></p>\";\n\n\t\t\tif( !data.existing_collection_id || ( data.existing_collection_id === 0 && data.new_collection_name.length === 0 ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.classList.add( \"collection_action_loading\" );\n\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t.then( res => {\n\t\t\t\tdocument.body.classList.remove( \"collection_action_loading\" );\n\t\t\t\t\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\t\n\t\t\t\tcloseModals(); \n\t\t\t\t// Show message\n\t\t\t\tshowMessage( successMessage );\n\t\t\t})\n\t\t\t.catch( error => {\n\t\t\t\tconsole.log( error );\n\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t} );\n\t\t}\t\t\n\t} );\n\n\t// Add Collection \n\t// document.querySelector( \"#new_collection_submit\" )?.addEventListener( \"click\", ( e ) => {\n\t// \te.preventDefault();\n\n\t// \tconst data = {\n\t// \t\taction: 'homebase_add_collection',\n\t// \t\tnew_collection_name: document.querySelector( \"#new_collection_name\" ).value\n\t// \t};\n\n\t// \tconst successMessage = \"<h2>New Collection Saved</h2><p>This Collection has been saved to My Account</p>\";\n\n\t// \tconsole.log(data);\n\n\t// // if (new_collection_name) {\n\n\t// // $.ajax({\n\n\t// // url: '/wp-admin/admin-ajax.php',\n\t// // data: data,\n\t// // method: 'POST',\n\t// // dataType: 'json',\n\t// // beforeSend: function(xhr){\n\n\t// // $('body').addClass('collection_action_loading');\n\n\t// // },\n\t// // success:function(data){\n\n\t// // $('.account_modal_collection_mask .account_modal_message').html(successMessage);\n\t// // $('body').addClass('collection_action_complete');\n\t// // $('#new_collection_name').val('');\n\n\t// // myHomeBase.loadCollections();\n\n\t// // },\n\t// // error:function(data){\n\n\t// // }\n\n\t// // });\n\n\t// // }\n\n\t// // });\n} );\n\n// var myHomeBase = {\n\t\n// \tbindUIActions: function() {\n\t\t\n// \t\t// EMAIL NOTES\n\t\t\n// \t\t$('#edit_notes_email_button').on('click', function (event) {\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar emailbody = $('#saved_notes').val();\n// \t\t\twindow.location = 'mailto:?subject=Note from Home Base My Account&body=' + emailbody;\n\n// \t\t});\n\t\t\t\n// \t\t// TRACK BROCHURE DOWNLOAD\n\t\t\n// \t\t$('main').on(\"click\", \".brochure_download\", function() {\n\t\t\t\n// \t\t\t$this = $(this);\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar brochureURL = $this.attr('href');\n\t\t\t\n// \t\t\tvar data = {\n// \t\t\t\taction: 'homebase_track_brochure_download',\n// \t\t\t\tdisplay: $this.data('display')\n//     \t\t};\n\n//     \t\t$.ajax({\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json'\n\t\t\t\t\t\n// \t\t\t});\n\t\t\t\n// \t\t\twindow.open(brochureURL, '_blank');\n\n// \t\t});\n\t\t\n// \t\t// SAVE DISPLAYS AND POSTS\n\t\t\n\n\t\t\n\n\t\t\n// \t\t// UNSAVE DISPLAYS AND POSTS\n\t\t\n// \t\t$('main').on(\"click\", \".unsave\", function() {\n\t\t\t\n// \t\t\t$this = $(this);\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar data = {\n// \t\t\t\taction: 'homebase_unsave',\n// \t\t\t\tpost_ID: $this.data('post-id'),\n// \t\t\t\tpost_type: $this.data('post-type')\n\t\t\t\t\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>\" + data.post_type + \" Removed</h2><p>This \" + data.post_type + \" has been removed from My Account</p>\";\n    \t\t\n//     \t\tconsole.log(data);\n\n//     \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json',\n// \t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\n// \t\t\t\t\t$('body').addClass('collection_action_loading');\n\t\t\t\t\t\n// \t\t\t\t},\n// \t\t\t\tsuccess:function(data){\n\t\t\t\t\t\n// \t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t$('body').addClass('collection_action_complete');\n// \t\t\t\t\t$this.removeClass('unsave').addClass('save').prop('title', 'Save to My Account');\n\t\t\t\t\t\n// \t\t\t\t},\n// \t\t\t\terror:function(data){\n\t  \t\t\t\n// \t\t\t\t}\n\t\t\t\t\t\n// \t\t\t});\n    \t\t\n// \t\t});\n\n// \t\t// SHOW NOTES PANEL\n\t\t\n// \t\t$(\".homebase_my_account\").on(\"click\", \".edit_notes\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\n// \t\t\tvar data = {\n// \t\t\t\taction: 'homebase_fetch_notes',\n// \t\t\t\tpost_ID: $(this).data('post-id')\n//     \t\t};\n    \t\t\n//     \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json',\n// \t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\n// \t\t\t\t\t$('body').addClass('collection_action_loading');\n\t\t\t\t\t\n// \t\t\t\t},\n// \t\t\t\tsuccess:function(data){\n\t\t\t\t\t\n// \t\t\t\t\t$('#saved_notes').val(data.data.notes);\n// \t\t\t\t\t$('#saved_notes_id').val(data.data.post_id);\n\t\t\t\t\t\n// \t\t\t\t\t$('body').removeClass('collection_action_loading').addClass('collection_action collection_action_notes');\n\n// \t\t\t\t},\n// \t\t\t\terror:function(data){\n\t  \t\t\t\n// \t\t\t\t}\n\t\t\t\t\t\n// \t\t\t});\n\t\t\t\n\n// \t\t});\n\t\t\n// \t\t// SAVE NOTES\n\t\t\n// \t\t$(\"#notes_submit\").on(\"click\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\t$save = $('#saved_notes_id').val();\n// \t\t\t$notes = $('#saved_notes').val();\n\t\t\t\n//     \t\tvar data = {\n// \t\t\t\taction: 'homebase_save_notes',\n// \t\t\t\tpost_ID: $save,\n// \t\t\t\tnotes: $notes\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>Notes Saved</h2>\";\n    \t\t\n//     \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json',\n// \t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\n// \t\t\t\t\t$('body').addClass('collection_action_loading');\n\n// \t\t\t\t},\n// \t\t\t\tsuccess:function(data){\n\t\t\t\t\t\n// \t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t$('body').addClass('collection_action_complete');\n\n// \t\t\t\t},\n// \t\t\t\terror:function(data){\n\t  \t\t\t\n// \t\t\t\t}\n\t\t\t\t\t\n// \t\t\t});\n\n// \t\t});\n\t\t\n\n\t\t\n// \t\t$(\".full_gallery\").on(\"click\", \".saveimage\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar post_ID = $(this).data('post-id');\n// \t\t\tvar image_thumb_url = $(this).data('image-thumb-url');\n\t\t\t\n// \t\t\t$('#save_image_id').val(post_ID);\n// \t\t\t$('#new_image_form .collection_image_preview').css('background-image', 'url(' + image_thumb_url + ')');\n// \t\t\t$('body').addClass('collection_action collection_action_image');\n\n// \t\t});\n\t\t\n// \t\t$(\".display_photos\").on(\"click\", \".unsaveimage\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n\n// \t\t});\n\t\t\n// \t\t$(\".full_gallery\").on(\"click\", \".unsaveimage\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n\n// \t\t});\n\t\t\n// \t\t$(\"input[name='existing_collection_id']\").on(\"change\", function() { \n// \t\t\tif (this.value == 0) {\n// \t\t\t\t$('#new_image_collection_name').addClass('active').val('');\n// \t\t\t} else {\n// \t\t\t\t$('#new_image_collection_name').removeClass('active').val('');\n// \t\t\t}\n// \t\t});\n\t\t\n// \t\t$(\"#edit_image_form\").on(\"change\", \"input[name='destination_collection_id']\", function() { \n// \t\t\tif (this.value == 0) {\n// \t\t\t\t$('#new_destination_collection_name').addClass('active').val('');\n// \t\t\t} else {\n// \t\t\t\t$('#new_destination_collection_name').removeClass('active').val('');\n// \t\t\t}\n// \t\t});\n\t\t\t\n\t\t\n\n\t\t\n// \t\t// COLLECTION MODAL ACTIONS\n\t\t\n\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \"#add_first_collection\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_new');\n\n// \t\t});\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \".edit_collection\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar collection = $(this).data('collection');\n// \t\t\tvar existing_name = $(this).data('collection-name');\n\n// \t\t\t$('#edit_collection_name').val(existing_name);\n// \t\t\t$('#edit_collection_id').val(collection);\n// \t\t\t$('body').addClass('collection_action collection_action_edit');\n\n// \t\t});\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \".delete_collection\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n// \t\t\tvar collection = $(this).data('collection');\n// \t\t\t$('#delete_collection_id').val(collection);\n// \t\t\t$('body').addClass('collection_action collection_action_delete');\n\n// \t\t});\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \".edit_image\", function() {\n\n// \t\t\tevent.preventDefault();\n// \t\t\tvar image = $(this).data('image');\n// \t\t\tvar image_thumb_url = $(this).data('image-thumb-url');\n\t\t\t\n// \t\t\tvar original_collection = $(this).data('collection');\n// \t\t\t$('#edit_image_id').val(image);\n// \t\t\t$('#original_collection_id').val(original_collection);\n// \t\t\t$('#edit_image_form .collection_image_preview').css('background-image', 'url(' + image_thumb_url + ')');\n// \t\t\t$('body').addClass('collection_action collection_action_edit_image');\n\t\t\t\n// \t\t\tmyHomeBase.loadDestinationCollections(original_collection);\n\n// \t\t});\n\t\t\n\n\t\t\n\t\t\n\t\t\n// \t\t// ADD COLLECTION\n\t\t\n\n\t\t\n// \t\t// EDIT COLLECTION\n\t\t\n\t\t\n// \t\t$(\"#edit_collection_submit\").on(\"click\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n//     \t\tvar data = {\n// \t\t\t\taction: 'homebase_edit_collection',\n// \t\t\t\tcollection: $('#edit_collection_id').val(), \n// \t\t\t\tedit_collection_name: $('#edit_collection_name').val()\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>Collection Updated</h2><p>This Collection name has been updated</p>\";\n    \t\t\n//     \t\tif (edit_collection_name) {\n\t    \t\t\n// \t    \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\t\tdata: data,\n// \t\t\t\t\tmethod: 'POST',\n// \t\t\t\t\tdataType: 'json',\n// \t\t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('body').addClass('collection_action_loading');\n\t\n// \t\t\t\t\t},\n// \t\t\t\t\tsuccess:function(data){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t\t$('body').addClass('collection_action_complete');\n\n// \t\t\t\t\t},\n// \t\t\t\t\terror:function(data){\n\t\t  \t\t\t\n// \t\t\t\t\t}\n\t\t\t\t\t\n// \t\t\t\t});\n\t    \t\t\n//     \t\t}\n\n// \t\t});\n\t\t\n\t\t\n\t\t\n// \t\t// DELETE COLLECTION\n\t\t\n// \t\t$(\"#delete_collection_submit\").on(\"click\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n//     \t\tvar data = {\n// \t\t\t\taction: 'homebase_delete_collection',\n// \t\t\t\tcollection: $('#delete_collection_id').val()\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>Collection Deleted</h2><p>This Collection has been removed from My Account</p>\";\n    \t\t\n//     \t\tif (new_collection_name) {\n\t    \t\t\n// \t    \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\t\tdata: data,\n// \t\t\t\t\tmethod: 'POST',\n// \t\t\t\t\tdataType: 'json',\n// \t\t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('body').addClass('collection_action_loading');\n\t\n// \t\t\t\t\t},\n// \t\t\t\t\tsuccess:function(data){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t\t$('body').addClass('collection_action_complete');\n\t\t\t\t\t\t\n// \t\t\t\t\t\tmyHomeBase.loadCollections();\n\n// \t\t\t\t\t},\n// \t\t\t\t\terror:function(data){\n\t\t  \t\t\t\n// \t\t\t\t\t}\n\t\t\t\t\t\n// \t\t\t\t});\n\t    \t\t\n//     \t\t}\n\n// \t\t});\n\t\t\n// \t\t// EDIT IMAGE\n\t\t\t\n// \t\t$(\"#edit_image_form\").on(\"click\", \"#edit_image_submit\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n//     \t\tvar data = {\n// \t\t\t\taction: 'homebase_edit_image',\n// \t\t\t\timage: $('#edit_image_id').val(),\n// \t\t\t\tedit_action: $('input[name=edit_image_action]:checked').val(),\n// \t\t\t\toriginal_collection_id: $('#original_collection_id').val(),\n// \t\t\t\tdestination_collection_id: $('input[name=destination_collection_id]:checked').val(),\n// \t\t\t\tnew_destination_collection_name: $('#new_destination_collection_name').val()\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>Image Updated</h2><p>Image has been moved/copied.</p>\";\n    \t\t\n//     \t\t// If desintaiotn ID is either > 0 or 0 and we have new name string\n    \t\t\n//     \t\tif (!data.destination_collection_id || data.destination_collection_id == 0 && data.new_destination_collection_name.length == 0 ) {\n\t    \t\t\n// \t    \t\treturn;\n\t    \t\t\n// \t    \t} else {\n\n// \t    \t\t$.ajax({\n\t\t\t\t\n// \t\t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\t\tdata: data,\n// \t\t\t\t\tmethod: 'POST',\n// \t\t\t\t\tdataType: 'json',\n// \t\t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('body').addClass('collection_action_loading');\n\t\n// \t\t\t\t\t},\n// \t\t\t\t\tsuccess:function(data){\n\t\t\t\t\t\t\n// \t\t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t\t$('body').addClass('collection_action_complete');\n\t\t\t\t\t\t\n// \t\t\t\t\t\tmyHomeBase.loadCollections();\n\n// \t\t\t\t\t},\n// \t\t\t\t\terror:function(data){\n\t\t  \t\t\t\n// \t\t\t\t\t}\n\t\t\t\t\t\n// \t\t\t\t});\n\t    \t\t\n//     \t\t}\n\n// \t\t});\n\t\t\n// \t\t// REMOVE IMAGE\n\t\t\t\n// \t\t$(\"#edit_image_form\").on(\"click\", \"#delete_image_submit\", function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n\t\t\t\n//     \t\tvar data = {\n// \t\t\t\taction: 'homebase_delete_image',\n// \t\t\t\timage: $('#edit_image_id').val(),\n// \t\t\t\toriginal_collection_id: $('#original_collection_id').val()\n//     \t\t};\n    \t\t\n//     \t\tvar successMessage = \"<h2>Image Removed</h2><p>Image successfully removed from this collection</p>\";\n    \t\t\n \n//     \t\t$.ajax({\n\t\t\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json',\n// \t\t\t\tbeforeSend: function(xhr){\n\t\t\t\t\t\n// \t\t\t\t\t$('body').addClass('collection_action_loading');\n\n// \t\t\t\t},\n// \t\t\t\tsuccess:function(){\n\t\t\t\t\t\n// \t\t\t\t\t$('.account_modal_collection_mask .account_modal_message').html(successMessage);\n// \t\t\t\t\t$('body').addClass('collection_action_complete');\n\t\t\t\t\t\n// \t\t\t\t\t// Hide image from collection\n\t\t\t\t\t\n// \t\t\t\t\tconsole.log('#collection_' + data.original_collection_id + ' #photo_' + data.image);\n// \t\t\t\t\t$('#collection_' + data.original_collection_id + '_photo_' + data.image).fadeOut();\n\t\t\t\t\t\n// \t\t\t\t},\n// \t\t\t\terror:function(data){\n\t  \t\t\t\n// \t\t\t\t}\n\t\t\t\t\n// \t\t\t});\n\t    \t\t\n// \t\t});\n\t\t\n\n// \t\t// SHOW COLLECTION\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \".collection_link\", function() {\n\t\t\t\n// \t\t\tc = $(this).attr('href'); \n\t\t\t\n// \t\t\thistory.pushState(null, null, c);\n\t\t\t\n// \t\t\t$(\"#collection_names\").addClass('hidden');\n// \t\t\t$('.collection').removeClass('active');\n// \t\t\t$(c).addClass('active');\n\t\t\t\n// \t\t\treturn(false);\n\t\n// \t\t});\n\t\t\n// \t\t// CLOSE COLLECTION\n\t\t\n// \t\t$(\"#collections\").on(\"click\", \".close_collection\", function() {\n\t\t\t\n// \t\t\t$(\"#collection_names\").removeClass('hidden');\n// \t\t\t$('.collection').removeClass('active');\n\t\t\t\n// \t\t\thistory.pushState(null, null, '#collections');\n\n// \t\t\treturn(false);\n\t\n// \t\t});\n\t\t\n//         // HELP\n\t\t\n// \t\t$(\"#my_account_help_btn\").click(function() {\n\t\t\t\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_help');\n\t\t\t\n// \t\t\tlocalStorage.setItem('showhelptips', 1);\n// \t\t\t$('body').removeClass('show_account_help_tips');\n\n// \t\t});\n\t\t\n// \t\t// ACCOUNT TABS\n\t\t\n// \t\t$('.my_account_tabs_nav a').click(function() {\n\t\t\t\n// \t\t\tt = $(this).attr('href'); \n\t\t\t\n// \t\t\thistory.pushState(null, null, t);\n// \t\t\tmyHomeBase.shift(t);\n\t\t\t\n// \t\t\tlocalStorage.setItem('showhelptips', 1);\n// \t\t\t$('body').removeClass('show_account_help_tips');\n\t\t\t\n// \t\t\treturn(false);\n\t\t\t\n// \t\t});\n\t\t\n// \t\t// POPSTATE\n\t\t\n// \t\twindow.addEventListener(\"popstate\", function(e) {\n\t\t\t\n// \t\t\t$(\"body\").removeClass('collection_action collection_action_new collection_action_image collection_action_edit collection_action_delete collection_action_loading collection_action_edit_image collection_action_complete account_saved collection_action_notes collection_action_manage_image collection_action_remove_image collection_help');\n\n// \t\t\tmyHomeBase.shift(location.hash);\n\t\t\n// \t\t});\n\t\t\n// \t\t// Email exhibitor\n// \t\t$(\".email_now, .call_now\").fancybox({\n// \t\t\topenEffect\t: 'fade',\n// \t\t\tcloseEffect\t: 'none',\n// \t\t\tpadding: 0,\n// \t\t\tautoSize: false,\n// \t\t\twidth: 600,\n// \t\t\tautoHeight: true\n// \t\t});\n\n// \t},\n\t\n// \tloadCollections: function(collection) {\n\t\t\n// \t\tvar data = {\n//             action: 'homebase_load_collections',\n//             collection: collection\n//         };\n\t\t\n// \t\t$.ajax({\n\t\t\t\t\n// \t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\tdata: data,\n// \t\t\tdataType: 'html',\n// \t\t\tmethod: 'POST',\n// \t\t\tbeforeSend: function(xhr){\n\t\t\t\t\n// \t\t\t\t$('#collections').html('<div class=\"loading_collections\"></div>');\n\t\t\t\t\t\n// \t\t\t},\n// \t\t\tsuccess:function(response){\t\n\t\t\t\t\n// \t\t\t\thtml = jQuery.parseJSON(response);\n\t\t\t\t\n// \t\t\t\t$('#collections').html(html);\t\n\t\t\t\t\n// \t\t\t\t$('.full_gallery_slides').flickity({\n// \t\t\t\t\tcellAlign: 'left',\n// \t\t\t\t\tcontain: true,\n// \t\t\t\t\tpageDots: false,\n// \t\t\t\t\thash: true,\n// \t\t\t\t\tselectedAttraction: 0.01, \n// \t\t\t\t\tfriction: 0.15, \n// \t\t\t\t\twrapAround: true, \n// \t\t\t\t\tarrowShape: { \"x0\": 10, \"x1\": 60, \"y1\": 50, \"x2\": 63, \"y2\": 47, \"x3\": 17 }\n// \t\t\t\t});\n\t\t\t\t\n// \t\t\t}\n\t\t\t\t\t\n// \t\t});\n\t\t\n// \t},\n\t\n// \tloadDestinationCollections: function(original_collection) {\n\t\t\n// \t\tvar data = {\n//             action: 'homebase_load_destination_collections',\n//             exclude: original_collection\n//         };\n        \n//         console.log(data.exclude);\n\t\t\n// \t\t$.ajax({\n\t\t\t\t\n// \t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\tdata: data,\n// \t\t\tdataType: 'html',\n// \t\t\tmethod: 'POST',\n// \t\t\tbeforeSend: function(xhr){\n\t\t\t\t\n// \t\t\t\t$('#edit_image_collections').html('<div class=\"loading_collections\"></div>');\n\t\t\t\t\t\n// \t\t\t},\n// \t\t\tsuccess:function(response){\t\n\n// \t\t\t\thtml = jQuery.parseJSON(response);\n// \t\t\t\t$('#edit_image_collections').html(html);\t\t\n// \t\t\t}\n\t\t\t\t\t\n// \t\t});\n\t\t\n// \t},\n\t\n\t\n// \t// Function to handle page load, tab, and popstate events\n\t\n// \tshift: function(hash) {\n\t\t\n// \t\tif (hash) {\n\t\t\t\n// \t\t\t// need to handle gallery images here too\n\t\t\t\n// \t\t\tif ( hash.indexOf(\"collection_\") != -1 && hash.indexOf(\"photo_\") != -1 ) {\n\n// \t\t\t\thash = '#collections';\n// \t\t\t\thistory.pushState(null, null, hash);\n\t\t\t\n// \t\t\t\t$('.my_account_tabs_nav li:first').addClass('active');\n// \t\t\t\t$('.my_account_tab:first').addClass('active');\n\t\t\t\n// \t\t\t\tmyHomeBase.loadCollections(0);\n\t\t\t\t\n// \t\t\t} else if ( hash.indexOf(\"collection_\") != -1 && hash.indexOf(\"photo_\") === -1 ) {\n\n// \t\t\t\t$('.my_account_tabs_nav li').removeClass('active');\n// \t\t\t\t$('.my_account_tab').removeClass('active');\n// \t\t\t\t$('.my_account_tabs_nav li:first').addClass('active');\n// \t\t\t\t$('.my_account_tab:first').addClass('active');\n\t\t\t\t\n// \t\t\t\tmyHomeBase.loadCollections(hash);\n\t\t\t\t\n// \t\t\t} else {\n\t\t\t\t\n// \t\t\t\t$(\"#collection_names\").removeClass('hidden');\n// \t\t\t\t$('.collection').removeClass('active');\n\t\t\t\t\n// \t\t\t\t$('.my_account_tabs_nav li').removeClass('active');\n// \t\t\t\t$('.my_account_tab').removeClass('active');\n// \t\t\t\t$('.my_account_tabs_nav a[href=\"' + hash + '\"]').parent().addClass('active');\n// \t\t\t\t$(hash).addClass('active');\n\t\t\t\t\n// \t\t\t\tmyHomeBase.loadCollections(0);\n\n// \t\t\t}\n\n// \t\t} else {\n\n// \t\t\thash = '#collections';\n// \t\t\thistory.pushState(null, null, hash);\n\t\t\t\n// \t\t\t$('.my_account_tabs_nav li:first').addClass('active');\n// \t\t\t$('.my_account_tab:first').addClass('active');\n\t\t\t\n// \t\t\tmyHomeBase.loadCollections(0);\n\t\t\t\n// \t\t}\n\t\t\n// \t},\n\n// \tinit: function() {\n\t\t\n// \t\tthis.bindUIActions();\n\n// \t},\n\n// \tinitMyAccountPage: function() {\n\t\t\n// \t\tthis.shift(window.location.hash);\n\n// \t}\n    \n// };\n\n// $(document).ready(function() { \n\t\n// \tvar showhelptips = localStorage.getItem('showhelptips');\n\t\n// \tif ( showhelptips == null ) {\n\n// \t\t$('body').addClass('show_account_help_tips');\n// \t}\n\t\n// \t$(\"#collections\").on(\"click\", \".close_full_gallery\", function() {\n\t\t\n// \t\t$('body').removeClass('showing_gallery');\n// \t\t$(this).parents('.full_gallery').removeClass('active');\n// \t\tc = $(this).parents('.full_gallery').data('collection');\n\t\t\n// \t\thash = '#collection_' + c;\n// \t\thistory.pushState(null, null, hash);\n\n// \t});\n\t\n// \t$(\"#collections\").on(\"click\", \".collection_image a\", function() {\n\t\t\n// \t\t$('body').addClass('showing_gallery');\n// \t\tvar g = $(this).data('gallery');\n// \t\t$('#gallery_' + g).addClass('active');\n\n// \t\t$('.full_gallery_slides').flickity('resize');\n\t\t\n// \t});\n   \n// \tmyHomeBase.init();\n\t\n// });","import './style.scss';\nimport \"toastify-js/src/toastify.css\"\nimport './js/account';\n\n// Slider - Library import example\n// import { tns } from \"tiny-slider\"\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\t// Lazy load fade in\n\tdocument.querySelectorAll( 'img[loading=\"lazy\"]' ).forEach( ( img ) => {\n\t\tif( img.complete === true ) {\n\t\t\timg.classList.add( 'has-loaded' );\n\t\t}\n\t\timg.addEventListener( \"load\", ( e ) => {\n\t\t\te.target.classList.add( 'has-loaded' );\n\t\t} );\n\t} );\n\n\tdocument.querySelectorAll( '.wp-block-home-base-post-grid-list button' ).forEach( button => {\n\t\tbutton.addEventListener( \"click\", ( e ) => {\n\t\t\tconst button = e.target.closest( \"button\" );\n\t\t\tif( !button.classList.contains(\"is-active\") ) {\n\t\t\t\tconst postTemplate = document.querySelector( \".wp-block-query .wp-block-post-template, .wp-block-display-categories-grid .wp-block-post-template\" );\n\t\t\t\t\n\t\t\t\tbutton.closest( \".wp-block-home-base-post-grid-list\" )?.querySelector( \".is-active\" )?.classList.remove( \"is-active\" );\n\t\t\t\tbutton.classList.add( \"is-active\" );\n\t\t\t\tif( postTemplate ) {\n\t\t\t\t\tif( button.classList.contains( \"grid\" ) ) {\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// is-layout-grid\n\t} );\n} );\n\n// .is-layout-flow\n// .wp-block-post-template-is-layout-flow\n\n// .is-layout-grid\n// .wp-block-post-template-is-layout-grid\n"],"sourceRoot":""}