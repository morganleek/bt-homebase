{"version":3,"sources":["webpack:///./src/app/js/account.js","webpack:///./src/app/index.js"],"names":["showMessage","message","Toastify","text","duration","gravity","position","escapeMarkup","style","background","color","boxShadow","showToast","closeModals","document","body","classList","remove","addEventListener","querySelector","querySelectorAll","forEach","button","e","isUnsave","target","contains","data","action","post_ID","dataset","postId","post_type","postType","postTypeTitles","successMessage","axios","get","home_base","ajax_url","params","then","res","toggle","error","console","log","image_thumb_url","imageThumbUrl","getElementById","value","backgroundImage","add","preventDefault","id","href","attributes","history","pushState","col","collectionName","collection","notes","post_id","galleryId","gallery","resize","closest","collectionHash","image","original_collection","loadDestinationCollections","radio","parseInt","photo","existing_collection_id","new_collection_name","length","emailbody","window","location","trigger","eventType","tagName","processRequest","name","loadCollections","targetId","confirmation","edit_collection_name","edit_action","original_collection_id","destination_collection_id","new_destination_collection_name","innerHTML","Flickity","cellAlign","contain","pageDots","hash","selectedAttraction","friction","wrapAround","arrowShape","exclude","postTemplate","slider","tns","container","items","slideBy","autoplay","nav","gutter","controls","autoplayButtonOutput","navPosition","autoPlay","speed","loop","img","complete"],"mappings":"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","file":"app/main-64f3df19.js","sourcesContent":["import axios, {isCancel, AxiosError} from 'axios';\nimport Toastify from 'toastify-js'\nimport Flickity from 'flickity';\n\nlet collection = null;\n\nconst showMessage = ( message ) => {\n\tToastify({\n\t\ttext: message,\n\t\tduration: 3000,\n\t\tgravity: \"bottom\", // `top` or `bottom`\n\t\tposition: \"center\", // `left`, `center` or `right`\n\t\tescapeMarkup: false,\n\t\tstyle: {\n\t\t\tbackground: \"#fff\",\n\t\t\tcolor: \"#000\",\n\t\t\tboxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.5)\",\n\t\t},\n\t}).showToast();\n}\n\n// close modals\nconst closeModals = () => {\n\tdocument.body.classList.remove( \n\t\t\"collection_action\", \"collection_action_new\", \"collection_action_image\", \"collection_action_edit\", \n\t\t\"collection_action_delete\", \"collection_action_loading\", \"collection_action_edit_image\", \n\t\t\"collection_action_complete\", \"account_saved\", \"collection_action_notes\", \n\t\t\"collection_action_manage_image\", \"collection_action_remove_image\", \"collection_help\");\n} \n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tif( document.querySelector( '.display-social-links' ) ) {\n\t\tdocument.querySelectorAll( '.display-social-links .heart, .display-social-links .display-brochure' ).forEach( button => {\n\t\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\t\tconst isUnsave = e.target.classList.contains( 'unsave' );\n\t\t\t\tconst data = {\n\t\t\t\t\taction: isUnsave ? 'homebase_unsave' : 'homebase_save',\n\t\t\t\t\tpost_ID: e.target.dataset.postId,\n\t\t\t\t\tpost_type: e.target.dataset.postType\n\t\t\t\t};\n\t\t\t\tconst postTypeTitles = {\n\t\t\t\t\t'post': 'Blog Post',\n\t\t\t\t\t'display': 'Display'\n\t\t\t\t};\n\t\t\n\t\t\t\tlet successMessage = \"\";\n\t\t\t\tif( e.target.classList.contains( 'heart' ) ) {\n\t\t\t\t\tif( isUnsave ) {\n\t\t\t\t\t\tsuccessMessage = \"<h4>\" + postTypeTitles[data.post_type] + \" Removed</h4><p>This \" + postTypeTitles[data.post_type] + \" has been removed from My Account</p>\"\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsuccessMessage = \"<h4>\" + postTypeTitles[data.post_type] + \" Saved</h4><p>This \" + postTypeTitles[data.post_type] + \" has been saved to My Account</p>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif( isUnsave ) {\n\t\t\t\t\t\tsuccessMessage = \"<p>This brochure has been removed from My Account<p>\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsuccessMessage = \"<h4>Brochure Saved</h4><p>This brochure is now available to view in My Account</p>\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t\t.then( res => {\n\t\t\t\t\te.target.classList.toggle( 'unsave' );\n\t\t\t\t\t// Show message\n\t\t\t\t\tshowMessage( successMessage );\n\t\t\t\t})\n\t\t\t\t.catch( error => {\n\t\t\t\t\tconsole.log( error );\n\t\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t\t} );\n\t\t\t} );\n\t\t} );\t\n\t}\n\n\tdocument.querySelectorAll( '.display-image-gallery .heart' ).forEach( button => {\n\t\tbutton.addEventListener( 'click', ( e ) => {\n\t\t\tconst post_ID = e.target.dataset.postId;\n\t\t\tconst image_thumb_url = e.target.dataset.imageThumbUrl;\n\t\t\t\n\t\t\tdocument.getElementById( \"save_image_id\" ).value = post_ID;\n\t\t\tdocument.querySelector( \"#new_image_form .collection_image_preview\" ).style.backgroundImage = 'url(' + image_thumb_url + ')';\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_image\" );\n\t\t} );\n\t} );\n\n\t// collections\n\tdocument.querySelector( \"#collections, #displays\" )?.addEventListener( \"click\", ( e ) => {\n\t\te.preventDefault();\n\n\t\t// add first collection\t\t\n\t\t// add collection\n\t\tif( e.target.id === \"add_new_collection\" || e.target.id === \"add_first_collection\" ) {\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_new\" );\n\t\t}\n\n\t\t// show collection\n\t\tif( e.target.classList.contains( 'collection_link' ) ) {\n\t\t\tconst href = e.target.href;\n\t\t\tconst id = e.target.attributes.href.value;\n\t\t\thistory.pushState( {}, '', href );\n\n\t\t\tdocument.querySelector( '#collection_names' ).classList.add( 'hidden' );\n\t\t\tdocument.querySelectorAll( '.collection' ).forEach( col => col.classList.remove( 'active' ) );\n\t\t\tdocument.querySelector( id )?.classList.add( 'active' );\n\t\t}\n\t\t\n\t\t// close collection \n\t\tif( e.target.classList.contains( 'close_collection' ) ) {\n\t\t\tdocument.querySelector( \"#collection_names\" ).classList.remove( 'hidden' );\n\t\t\tdocument.querySelectorAll( '.collection' ).forEach( col => col.classList.remove( 'active' ) );\n\n\t\t\thistory.pushState( {}, '', '#collections' );\n\t\t}\n\n\t\t// edit collection\n\t\tif( e.target.classList.contains( 'edit_collection' ) ) {\n\t\t\tdocument.querySelector('#edit_collection_name').value = e.target.dataset.collectionName;\n\t\t\tdocument.querySelector('#edit_collection_id').value = e.target.dataset.collection;\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_edit\" );\n\t\t}\n\t\t\n\t\t// delete collection\n\t\tif( e.target.classList.contains( 'delete_collection' ) ) {\n\t\t\tdocument.querySelector( \"#delete_collection_id\" ).value = e.target.dataset.collection;;\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_delete\" );\n\t\t}\n\n\t\t// show notes\n\t\tif( e.target.classList.contains( 'edit_notes' ) ) {\n\t\t\tconst data = {\n\t\t\t\taction: 'homebase_fetch_notes',\n\t\t\t\tpost_ID: e.target.dataset.postId\n\t\t\t};\n\n\t\t\tdocument.body.classList.add( 'collection_action_loading' );\n\n\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t.then( res => {\n\t\t\t\tconsole.log( res.data.data );\n\t\t\t\tdocument.querySelector( '#saved_notes' ).value = res.data.data.notes;\n\t\t\t\tdocument.querySelector( '#saved_notes_id' ).value = res.data.data.post_id;\n\t\t\t\t\n\t\t\t\tdocument.body.classList.remove( 'collection_action_loading' );\n\t\t\t\tdocument.body.classList.add( 'collection_action', 'collection_action_notes' );\n\t\t\t})\n\t\t\t.catch( error => {\n\t\t\t\tconsole.log( error );\n\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t} );\n\t\t}\n\n\t\t// open gallery \n\t\tif( e.target.classList.contains( 'collection-image-link' ) ) {\n\t\t\tconsole.log( 'collection-image-link' );\n\t\t\tvar galleryId = e.target.dataset.gallery;\n\t\t\tdocument.body.classList.add( 'showing_gallery' );\n\t\t\tdocument.querySelector( \"#gallery_\" + galleryId ).classList.add( 'active' );\n\t\t\tcollection.resize();\n\t\t}\n\n\t\t// close gallery\n\t\tif( e.target.classList.contains( 'close_full_gallery' ) ) {\n\t\t\tdocument.body.classList.remove( 'showing_gallery' );\n\t\t\te.target.closest( '.full_gallery' ).classList.remove( 'active' );\n\t\t\tconst collectionHash = e.target.closest( '.full_gallery' ).dataset.collection;\n\t\t\thistory.pushState( {}, \"\", '#collection_' + collectionHash);\n\t\t}\n\n\t\t// edit image\n\t\tif( e.target.classList.contains( 'edit_image' ) ) {\n\t\t\tconst image = e.target.dataset.image;\n\t\t\tconst image_thumb_url = e.target.dataset.imageThumbUrl;\t\t\t\n\t\t\tconst original_collection = e.target.dataset.collection;\n\t\t\tdocument.querySelector('#edit_image_id').value = image;\n\t\t\tdocument.querySelector('#original_collection_id').value = original_collection;\n\t\t\tdocument.querySelector('#edit_image_form .collection_image_preview').style.backgroundImage = 'url(' + image_thumb_url + ')';\n\t\t\tdocument.body.classList.add( \"collection_action\", \"collection_action_edit_image\" );\n\t\t\t\n\t\t\tloadDestinationCollections( original_collection );\n\t\t}\n\t} );\n\n\t\n\n\tdocument.querySelector( \".account_modal_close\" )?.addEventListener( \"click\", ( e ) => {\n\t\tcloseModals();\n\t});\n\n\t// save image modal - toggle new collection name\n\tdocument.querySelectorAll( \"input[name='existing_collection_id']\" ).forEach( radio => {\n\t\tradio.addEventListener( \"change\", ( e ) => { \n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).value = \"\";\n\t\t\tdocument.querySelector( \"#new_image_collection_name\" ).classList.toggle( \"active\", parseInt( e.target.value ) === 0 );\n\t\t} );\n\t} );\n\n\t// save image modal - submit \"previously #photo_save_submit click\"\n\tdocument.querySelector( \"#new_image_form\" )?.addEventListener( \"submit\", ( e ) => {\n\t\te.preventDefault();\n\t\t\n\t\tif( document.querySelector( \"#save_image_id\" ) ) {\n\t\t\tconst photo = document.querySelector( \"#save_image_id\" ).value;\n\t\t\tconst data = {\n\t\t\t\taction: 'homebase_save_image',\n\t\t\t\tpost_ID: photo,\n\t\t\t\texisting_collection_id: document.querySelector( \"input[name=existing_collection_id]:checked\" ).value,\n\t\t\t\tnew_collection_name: document.querySelector( \"#new_image_collection_name\" ).value\n\t\t\t};\n\n\t\t\tif( !data.existing_collection_id || ( data.existing_collection_id === 0 && data.new_collection_name.length === 0 ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.classList.add( \"collection_action_loading\" );\n\t\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t\t.then( res => {\n\t\t\t\tdocument.body.classList.remove( \"collection_action_loading\" );\n\t\t\t\tconsole.log( document.querySelector( \"#photo_\" + photo + \" .myaccount\" ) );\n\t\t\t\tconsole.log( \"#photo_\" + photo + \" .myaccount\" );\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.remove( \"saveimage\" );\n\t\t\t\tdocument.querySelector( \"#view_photo_\" + photo + \" .myaccount\" )?.classList.add( \"unsaveimage\" );\n\t\t\t\t\n\t\t\t\tcloseModals(); \n\t\t\t\t// Show message\n\t\t\t\tshowMessage( \"<h5>Image Saved</h5><p>This image has been saved to My Account</p><p><a class='saved_view_account' href='/my-account'>View My Account</a></p>\" );\n\t\t\t})\n\t\t\t.catch( error => {\n\t\t\t\tconsole.log( error );\n\t\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t\t} );\n\t\t}\t\t\n\t} );\n\n\t// email notes\n\tdocument.querySelector( '#edit_notes_email_button' ).addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\t\tconst emailbody = document.querySelector( '#saved_notes' ).value;\n\t\twindow.location = 'mailto:?subject=Note from Home Base My Account&body=' + emailbody;\n\t} );\n\n\t// add new collection\n\t// delete existing collection\n\t// edit collection name\n\t// edit notes\n\t// edit image\n\t// delete image\n\tdocument.querySelectorAll( \"#new_collection_form, #delete_collection_form, #edit_collection_form, #edit_notes_form, #edit_image_form, #delete_image_submit\" ).forEach( trigger => {\n\t\tconst eventType = trigger.tagName === \"FORM\" ? \"submit\" : \"click\";\n\t\ttrigger.addEventListener( eventType, ( e ) => {\n\t\t\te.preventDefault();\n\t\t\tprocessRequest( e.target.id );\n\t\t} );\n\t} );\n\n\t// edit collections\n\tdocument.querySelector( \"#edit_image_collections\" ).addEventListener( \"change\", ( e ) => {\n\t\t// save image item - toggle new collection name\n\t\tif( e.target.name === \"destination_collection_id\" ) {\n\t\t\tdocument.querySelector( \"#new_destination_collection_name\" ).value = \"\";\n\t\t\tdocument.querySelector( \"#new_destination_collection_name\" ).classList.toggle( \"active\", parseInt( e.target.value ) === 0 );\n\t\t}\n\t} );\n\n\t// load collections\n\tif( document.querySelector( \"#collections\" ) ) {\n\t\tloadCollections();\n\t}\n\n} );\n\nconst processRequest = ( targetId ) => {\n\tlet data = {};\n\tlet confirmation = \"\";\n\n\tswitch( targetId ) {\n\t\tcase \"new_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_add_collection',\n\t\t\t\tnew_collection_name: document.querySelector( \"#new_collection_name\" ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>New Collection Saved</h4><p>This Collection has been saved to My Account</p>\";\n\t\t\tbreak;\n\t\tcase \"delete_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_delete_collection',\n\t\t\t\tcollection: document.querySelector( '#delete_collection_id' ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Collection Deleted</h4><p>This Collection has been removed from your account</p>\"\n\t\t\tbreak;\n\t\tcase \"edit_collection_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_edit_collection',\n\t\t\t\tcollection: document.querySelector( '#edit_collection_id' ).value,\n\t\t\t\tedit_collection_name: document.querySelector( '#edit_collection_name' ).value\n\t\t\t}\n\t\t\tconfirmation = \"<h4>Collection Updated</h4><p>This Collection name has been updated</p>\"\n\t\t\tbreak;\n\t\tcase \"edit_notes_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_save_notes',\n\t\t\t\tpost_ID: document.querySelector( '#saved_notes_id' ).value,\n\t\t\t\tnotes: document.querySelector( '#saved_notes' ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Notes Saved</h4>\";\n\t\t\tbreak;\n\t\tcase \"edit_image_form\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_edit_image',\n\t\t\t\timage: document.querySelector( '#edit_image_id' ).value,\n\t\t\t\tedit_action: document.querySelector( 'input[name=edit_image_action]:checked').value,\n\t\t\t\toriginal_collection_id: document.querySelector( '#original_collection_id').value,\n\t\t\t\tdestination_collection_id: document.querySelector( 'input[name=destination_collection_id]:checked').value,\n\t\t\t\tnew_destination_collection_name: document.querySelector( '#new_destination_collection_name').value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Image Updated</h4><p>Image has been moved/copied</p>\";\n\t\t\tbreak;\n\t\tcase \"delete_image_submit\":\n\t\t\tdata = {\n\t\t\t\taction: 'homebase_delete_image',\n\t\t\t\timage: document.querySelector( \"#edit_image_id\" ).value,\n\t\t\t\toriginal_collection_id: document.querySelector( \"#original_collection_id\" ).value\n\t\t\t};\n\t\t\tconfirmation = \"<h4>Image Removed</h4><p>Image successfully removed from this collection</p>\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn;\n\t}\n\n\tif( new_collection_name ) {\n\t\tdocument.body.classList.add( \"collection_action_loading\" );\n\t\n\t\taxios.get( home_base.ajax_url, { params: data } )\n\t\t.then( res => {\n\t\t\tcloseModals(); \n\t\t\t// reload collections\n\t\t\tloadCollections();\n\t\t\t// Show message\n\t\t\tshowMessage( confirmation );\n\t\t})\n\t\t.catch( error => {\n\t\t\tconsole.log( error );\n\t\t\tshowMessage( \"Something has gone wrong\" );\n\t\t} );\n\t}\n}\n\t\t\n// EMAIL NOTES\n\n// TRACK BROCHURE DOWNLOAD\n// \t\t$('main').on(\"click\", \".brochure_download\", function() {\n// \t\t\t$this = $(this);\n// \t\t\tevent.preventDefault();\n// \t\t\tvar brochureURL = $this.attr('href');\n// \t\t\tvar data = {\n// \t\t\t\taction: 'homebase_track_brochure_download',\n// \t\t\t\tdisplay: $this.data('display')\n//     \t\t};\n//     \t\t$.ajax({\t\n// \t\t\t\turl: '/wp-admin/admin-ajax.php',\n// \t\t\t\tdata: data,\n// \t\t\t\tmethod: 'POST',\n// \t\t\t\tdataType: 'json'\n// \t\t\t});\n// \t\t\twindow.open(brochureURL, '_blank');\n// \t\t});\n\t\t\n// \t\t$(\".full_gallery\").on(\"click\", \".saveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\tvar post_ID = $(this).data('post-id');\n// \t\t\tvar image_thumb_url = $(this).data('image-thumb-url');\n// \t\t\t$('#save_image_id').val(post_ID);\n// \t\t\t$('#new_image_form .collection_image_preview').css('background-image', 'url(' + image_thumb_url + ')');\n// \t\t\t$('body').addClass('collection_action collection_action_image');\n// \t\t});\n// \t\t$(\".display_photos\").on(\"click\", \".unsaveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n// \t\t});\n// \t\t$(\".full_gallery\").on(\"click\", \".unsaveimage\", function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_action_manage_image');\n// \t\t});\n\t\t\n// COLLECTION MODAL ACTIONS\n\n// HELP\n// \t\t$(\"#my_account_help_btn\").click(function() {\n// \t\t\tevent.preventDefault();\n// \t\t\t$('body').addClass('collection_action collection_help');\n// \t\t\tlocalStorage.setItem('showhelptips', 1);\n// \t\t\t$('body').removeClass('show_account_help_tips');\n// \t\t});\n\t\t\n\t\t\n// \t\t// Email exhibitor\n// \t\t$(\".email_now, .call_now\").fancybox({\n// \t\t\topenEffect\t: 'fade',\n// \t\t\tcloseEffect\t: 'none',\n// \t\t\tpadding: 0,\n// \t\t\tautoSize: false,\n// \t\t\twidth: 600,\n// \t\t\tautoHeight: true\n// \t\t});\n\n// \t},\n\nconst loadCollections = ( collection ) => {\n\tdocument.querySelector( '#collections' ).classList.add( 'loading' );\n\n\taxios.get( home_base.ajax_url, { \n\t\tparams: {\n\t\t\taction: 'homebase_load_collections',\n\t\t\tcollection: collection\n\t\t} \n\t} )\n\t.then( res => {\n\t\tdocument.querySelector( '#collections' ).classList.remove( 'loading' );\n\t\tdocument.querySelector( '#collections > .wp-block-group' ).innerHTML = res.data;\t\n\t\t\n\t\tcollection = new Flickity( '.full_gallery_slides', {\n\t\t\tcellAlign: 'left',\n\t\t\tcontain: true,\n\t\t\tpageDots: false,\n\t\t\thash: true,\n\t\t\tselectedAttraction: 0.01, \n\t\t\tfriction: 0.15, \n\t\t\twrapAround: true, \n\t\t\tarrowShape: { \"x0\": 10, \"x1\": 60, \"y1\": 50, \"x2\": 63, \"y2\": 47, \"x3\": 17 }\n\t\t} );\n\t} )\n\t.catch( error => {\n\t\tshowMessage( \"Something has gone wrong\" );\n\t} );\t\t\n};\n\nconst loadDestinationCollections = ( original_collection ) => {\n\tdocument.querySelector( '#collections' ).classList.add( 'loading' );\n\n\taxios.get( home_base.ajax_url, { \n\t\tparams: {\n\t\t\taction: 'homebase_load_destination_collections',\n\t\t\texclude: original_collection\n\t\t}\n\t} )\n\t.then( res => {\n\t\tdocument.querySelector( '#collections' ).classList.remove( 'loading' );\n\t\tdocument.querySelector( '#edit_image_collections' ).innerHTML = res.data;\t\n\t} )\n\t.catch( error => {\n\t\tshowMessage( \"Something has gone wrong\" );\n\t} );\n}\n\n// Function to handle page load, tab, and popstate events\n// function shift(hash) {\n// if (hash) {\n// // need to handle gallery images here too\n// if (hash.indexOf(\"collection_\") !== -1 && hash.indexOf(\"photo_\") !== -1) {\n// hash = '#collections';\n// history.pushState(null, null, hash);\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(0);\n// } else if (hash.indexOf(\"collection_\") !== -1 && hash.indexOf(\"photo_\") === -1) {\n// var tabsNavItems = document.querySelectorAll('.my_account_tabs_nav li');\n// var accountTabs = document.querySelectorAll('.my_account_tab');\n\n// tabsNavItems.forEach(function(item) {\n// item.classList.remove('active');\n// });\n// accountTabs.forEach(function(tab) {\n// tab.classList.remove('active');\n// });\n\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(hash);\n// } else {\n// document.querySelector(\"#collection_names\").classList.remove('hidden');\n// var collections = document.querySelectorAll('.collection');\n\n// collections.forEach(function(collection) {\n// collection.classList.remove('active');\n// });\n\n// tabsNavItems = document.querySelectorAll('.my_account_tabs_nav li');\n// accountTabs = document.querySelectorAll('.my_account_tab');\n\n// tabsNavItems.forEach(function(item) {\n// item.classList.remove('active');\n// });\n// accountTabs.forEach(function(tab) {\n// tab.classList.remove('active');\n// });\n\n// var activeTab = document.querySelector('.my_account_tabs_nav a[href=\"' + hash + '\"]');\n// if (activeTab) {\n// activeTab.parentElement.classList.add('active');\n// }\n// var activeSection = document.querySelector(hash);\n// if (activeSection) {\n// activeSection.classList.add('active');\n// }\n// myHomeBase.loadCollections(0);\n// }\n// } else {\n// hash = '#collections';\n// history.pushState(null, null, hash);\n// document.querySelector('.my_account_tabs_nav li:first-child').classList.add('active');\n// document.querySelector('.my_account_tab:first-child').classList.add('active');\n// myHomeBase.loadCollections(0);\n// }\n\t// }\n\n// document.addEventListener('DOMContentLoaded', function() {\n// \tvar showhelptips = localStorage.getItem('showhelptips');\n// \tif (showhelptips === null) {\n// \t\t\tdocument.body.classList.add('show_account_help_tips');\n// \t}\n// \tmyHomeBase.init();\n// });","import \"./style.scss\";\nimport \"./js/account\";\n\nimport \"toastify-js/src/toastify.css\"\nimport \"tiny-slider/src/tiny-slider.scss\"\n\n// Slider - Library import example\nimport { tns } from \"tiny-slider\";\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tdocument.querySelectorAll( '.wp-block-home-base-post-grid-list button' ).forEach( button => {\n\t\tbutton.addEventListener( \"click\", ( e ) => {\n\t\t\tconst button = e.target.closest( \"button\" );\n\t\t\tif( !button.classList.contains(\"is-active\") ) {\n\t\t\t\tconst postTemplate = document.querySelector( \".wp-block-query .wp-block-post-template, .wp-block-display-categories-grid .wp-block-post-template\" );\n\t\t\t\t\n\t\t\t\tbutton.closest( \".wp-block-home-base-post-grid-list\" )?.querySelector( \".is-active\" )?.classList.remove( \"is-active\" );\n\t\t\t\tbutton.classList.add( \"is-active\" );\n\t\t\t\tif( postTemplate ) {\n\t\t\t\t\tif( button.classList.contains( \"grid\" ) ) {\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpostTemplate.classList.add( \"is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.add( \"wp-block-post-template-is-layout-flow\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"is-layout-grid\" );\n\t\t\t\t\t\tpostTemplate.classList.remove( \"wp-block-post-template-is-layout-grid\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n\n\t// Display Categories Slider\n\tdocument.querySelectorAll( '.wp-block-display-categories-slider .wp-block-post-template, .wp-block-query.is-style-slider .wp-block-post-template' ).forEach( slider => {\n\t\ttns( {\n\t\t\tcontainer: slider,\n\t\t\titems: 1,\n\t\t\tslideBy: 'page',\n\t\t\tautoplay: true,\n\t\t\tnav: true,\n\t\t\tgutter: 32,\n\t\t\tcontrols: false,\n\t\t\tautoplayButtonOutput: false,\n\t\t\tnavPosition: \"bottom\",\n\t\t\tautoPlay: false,\n\t\t\tspeed: 600,\n\t\t\tloop: true\n\t\t\t// startIndex: 2\n\t\t} );\n\t} );\n\n\n\t// Lazy load fade in\n\tdocument.querySelectorAll( 'img[loading=\"lazy\"]' ).forEach( ( img ) => {\n\t\tif( img.complete === true ) {\n\t\t\timg.classList.add( 'has-loaded' );\n\t\t}\n\t\timg.addEventListener( \"load\", ( e ) => {\n\t\t\te.target.classList.add( 'has-loaded' );\n\t\t} );\n\t} );\n} );\n\n// .is-layout-flow\n// .wp-block-post-template-is-layout-flow\n\n// .is-layout-grid\n// .wp-block-post-template-is-layout-grid\n"],"sourceRoot":""}